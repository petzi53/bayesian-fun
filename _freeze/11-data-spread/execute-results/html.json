{
  "hash": "106d6c066810f6cd0d613b955d19e2f0",
  "result": {
    "markdown": "---\nengine: knitr\n---\n\n\n# Measuring the Spread of our Data\n\nThe chapter explains three different methods to measure the spread of\ndata:\n\n1.  <a class='glossary' title='The mean absolute deviation (MAD) also known as the mean deviation and average absolute deviation is a measure of variability that indicates the average distance between observations and their mean. MAD uses the original units of the data, which simplifies interpretation. Larger values signify that the data points spread out further from the average. Conversely, lower values correspond to data points bunching closer to it. (&lt;a href=“https://statisticsbyjim.com/basics/mean-absolute-deviation/&gt;Statistics by Jim). The R base function mad() stands for the median absolute deviation.'>Mean absolute deviation</a> (MAD)\n2.  <a class='glossary' title='Variance is the squared deviation from the mean of a random variable. The variance is also often defined as the square of the standard deviation. Variance is a measure of dispersion, meaning it is a measure of how far a set of numbers is spread out from their average value. It is the second central moment of a distribution, and the covariance of the random variable with itself, and it is often represented by σ, σ^2, VAR(x), var(x) or V(x). (Wikipedia)'>Variance</a>\n3.  <a class='glossary' title='The standard deviation is a measure of the amount of variation or dispersion of a set of values. A low standard deviation indicates that the values tend to be close to the mean (also called the expected value) of the set, while a high standard deviation indicates that the values are spread out over a wider range. The standard deviation is the square root of its variance. A useful property of the standard deviation is that, unlike the variance, it is expressed in the same unit as the data. Standard deviation may be abbreviated SD, and is most commonly represented in mathematical texts and equations by the lower case Greek letter \\(\\sigma\\) (sigma), for the population standard deviation, or the Latin letter \\(s\\) for the sample standard deviation. (Wikipedia)'>Standard deviation</a> (sigma, $\\sigma$)\n\n## Dropping Coins in a Well\n\nHaving different spreads in two data set does not prevent that they have\nthe same mean ($\\mu$).\n\n## Finding the Mean Absolute Deviation\n\nTo measure the dispersion of data you can't simply sum the distances\nfrom the mean because the positive and negative differences cancel each\nother out. To take absolute values wouldn't work either because we got\nhigher values with more data. We need to normalize by dividing by the\ntotal number of observations.\n\nThe mean absolute deviation uses this procedure but instead to divide by\nthe number of observation it divides by its reciprocal value\n$\\frac{1}{n}$.\n\n------------------------------------------------------------------------\n\n::: {#thm-mad}\n#### Formula for the Mean Absolute Deviation (MAD)\n\n$$MAD(x) = \\frac{1}{n} \\times \\sum_{1}^{n}|x_{i} - \\mu|$$ {#eq-mad}\n\n> We call the result of this formula the\n> <a class='glossary' title='The mean absolute deviation (MAD) also known as the mean deviation and average absolute deviation is a measure of variability that indicates the average distance between observations and their mean. MAD uses the original units of the data, which simplifies interpretation. Larger values signify that the data points spread out further from the average. Conversely, lower values correspond to data points bunching closer to it. (&lt;a href=“https://statisticsbyjim.com/basics/mean-absolute-deviation/&gt;Statistics by Jim). The R base function mad() stands for the median absolute deviation.'>mean absolute deviation</a> (MAD). The MAD is a very\n> useful and intuitive measure of how spread out your observations are.\n> (98)\n:::\n\n------------------------------------------------------------------------\n\n## Finding the Variance\n\nTo square the differences to the mean ($x_{i} - \\mu$) is another way to\nget only positive values. This measure of dispersion is called\n<a class='glossary' title='Variance is the squared deviation from the mean of a random variable. The variance is also often defined as the square of the standard deviation. Variance is a measure of dispersion, meaning it is a measure of how far a set of numbers is spread out from their average value. It is the second central moment of a distribution, and the covariance of the random variable with itself, and it is often represented by σ, σ^2, VAR(x), var(x) or V(x). (Wikipedia)'>variance</a> and has the advantage to\nproduce an \"*exponential penalty*, meaning measurements very far away\nfrom the mean are penalized much more.\" (99)\n\n------------------------------------------------------------------------\n\n::: {#thm-variance}\n#### Formula for the Variance (Var)\n\n$$Var(x) = \\frac{1}{n} \\times \\sum_{1}^{n}(x_{i} - \\mu)^2$$ {#eq-variance}\n\nThe formula for the variance is exactly the same as MAD in @eq-mad\nexcept that the absolute value function in MAD has been replaced with\nsquaring.\n:::\n\n------------------------------------------------------------------------\n\n## Finding the Standard Deviation\n\nWith the squared results in computing the variance we are loosing the\nintuitive meaning of the values. Therefore by taking the square root the\nstandard deviation as another measure of dispersion that is easier to\ninterpret than the variance.\n\n------------------------------------------------------------------------\n\n::: {#thm-sigma}\n#### Formula for the Standard Deviation (sigma, $\\sigma$)\n\n$$\\sigma = \\sqrt{\\frac{1}{n} \\times \\sum_{1}^{n}(x_{i} - \\mu)^2}$$ {#eq-sigma}\n\n> The standard deviation is so useful and ubiquitous that, in most of\n> the literature on probability and statistics, variance is defined\n> simply as $\\sigma^2$, or sigma squared!\n:::\n\n------------------------------------------------------------------------\n\n::: callout-warning\nThere is another difference between the simple variance and standard\ndeviation. In the base R case both use as denominator $n - 1$ and *not*\njust $n$. The reason is -- as Will Kurt explains in the solution manual\npage 242 -- that both measure addresses the sample (variance and\nstandard deviation) and not the population.\n\nThe difference is not important if you have a large data set, but with\nthe toy data in this chapter the difference matters.\n:::\n\n## Wrapping Up\n\nIn this chapter we learned about three different methods to measure the\nspread of data:\n\n1.  <a class='glossary' title='The mean absolute deviation (MAD) also known as the mean deviation and average absolute deviation is a measure of variability that indicates the average distance between observations and their mean. MAD uses the original units of the data, which simplifies interpretation. Larger values signify that the data points spread out further from the average. Conversely, lower values correspond to data points bunching closer to it. (&lt;a href=“https://statisticsbyjim.com/basics/mean-absolute-deviation/&gt;Statistics by Jim). The R base function mad() stands for the median absolute deviation.'>Mean absolute deviation</a> (MAD): It is the most\n    intuitive measure.\n2.  <a class='glossary' title='Variance is the squared deviation from the mean of a random variable. The variance is also often defined as the square of the standard deviation. Variance is a measure of dispersion, meaning it is a measure of how far a set of numbers is spread out from their average value. It is the second central moment of a distribution, and the covariance of the random variable with itself, and it is often represented by σ, σ^2, VAR(x), var(x) or V(x). (Wikipedia)'>Variance</a> (var): It is mathematically\n    easy to use and has the nice property of an exponential penalty.\n3.  <a class='glossary' title='The standard deviation is a measure of the amount of variation or dispersion of a set of values. A low standard deviation indicates that the values tend to be close to the mean (also called the expected value) of the set, while a high standard deviation indicates that the values are spread out over a wider range. The standard deviation is the square root of its variance. A useful property of the standard deviation is that, unlike the variance, it is expressed in the same unit as the data. Standard deviation may be abbreviated SD, and is most commonly represented in mathematical texts and equations by the lower case Greek letter \\(\\sigma\\) (sigma), for the population standard deviation, or the Latin letter \\(s\\) for the sample standard deviation. (Wikipedia)'>Standard deviation</a> (sigma, $\\sigma$): This is the\n    most used measure for dispersion as it is reasonable intuitive and\n    mathematically easy to use.\n\n## Exercises\n\nTry answering the following questions to see how well you understand\nthese different methods of measuring the spread of data. The solutions\ncan be found at <https://nostarch.com/learnbayes/>.\n\n### Exercise 11-1\n\nOne of the benefits of variance is that squaring the differences makes\nthe penalties exponential. Give some examples of when this would be a\nuseful property.\n\n**Solution**:\n\n::: callout-note\nMy solution hinted at outliers but this is not the much more practical\nintended solution. The penalty is not only useful whenever the distance\nto missing the intended value is important. Will Kurt uses the example\nof a teleporter missing its intended location by 3 feet, 3 miles of 30\nmiles.\n:::\n\n### Exercise 11-2\n\nCalculate the mean, variance, and standard deviation for the following\nvalues: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10.\n\n**Solution**:\n\n\n::: {.cell}\n\n```{.r .cell-code #lst-exr-11-2 lst-cap=\"Exercise 11-2: Calculate the mean, variance, and standard deviation for the following values: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10.\"}\nvar_fun <- function(x) {\n  sum((x - mean(x))^2) * 1 / length(x)\n}\n\nsd_fun <- function(x) {\n  sqrt(sum((x - mean(x))^2) * 1 / length(x))\n}\n\n\nx3 <-  1:10\nmean(x3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 5.5\n```\n\n\n:::\n\n```{.r .cell-code #lst-exr-11-2 lst-cap=\"Exercise 11-2: Calculate the mean, variance, and standard deviation for the following values: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10.\"}\nvar_fun(x3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 8.25\n```\n\n\n:::\n\n```{.r .cell-code #lst-exr-11-2 lst-cap=\"Exercise 11-2: Calculate the mean, variance, and standard deviation for the following values: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10.\"}\nsd_fun(x3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 2.872281\n```\n\n\n:::\n:::\n\n\n## Experiments\n\n### Computing the MAD\n\nThere is a function `stats::mad()` in base R to compute the MAD, but it\nis in several aspects different to the calculation of Will Kurt:\n\n1.  First of all the abbreviation stands for Median Absolute Deviation.,\n    e.g. it computes by default the deviation from the median. This is\n    the more robust central measure as outliers does not have so much\n    impact as in the case of the mean calculation. But you could change\n    the default parameter `center = median(x)` to `center = mean(x)`.\n2.  The function includes a scale factor of 1.4826 to ensure consistency\n    for $X_{i}$, distributed as $N(\\mu, \\sigma^2)$ and large $n$. Again\n    you could change this by setting the parameter `constant = 1`.\n3.  But most important the base R function divides by n and not by the\n    reciprocal value of $\\frac{1}{n}$.\n\nSo the best way is to write our own R function corresponding to the\ncalculation by Will Kurt:\n\n\n::: {.cell}\n\n```{.r .cell-code #lst-compute-mad lst-cap=\"Create a function to compute the mean absolute deviation (MAD) as used in the book\"}\nmad_fun <- function(x) {\n    sum(abs(x - mean(x))) * 1 / length(x)\n}\n\nx1 <- c(3.02, 2.95, 2.98, 3.08, 2.97)\nx2 <- c(3.31, 2.16, 3.02, 3.71, 2.80)\n\nmad_fun(x1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 0.04\n```\n\n\n:::\n\n```{.r .cell-code #lst-compute-mad lst-cap=\"Create a function to compute the mean absolute deviation (MAD) as used in the book\"}\nmad_fun(x2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 0.416\n```\n\n\n:::\n:::\n\n\nThis is the same result as in the book, page 98.\n\n### Computing the variance\n\nThe variance can be computed with the R base function `stats::var()`.\nBut again there is the difference that this formula does not take the\nreciprocal value of the observed events but just divides by n.\n\nAgain we have to develop our own R function to get the same results as\nWill Kurt:\n\n\n::: {.cell}\n\n```{.r .cell-code #lst-compute-variance lst-cap=\"Create a function to compute the variance as used in the book\"}\nvar_fun <- function(x) {\n  sum((x - mean(x))^2) * 1 / length(x)\n}\n\nvar_fun(x1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 0.00212\n```\n\n\n:::\n\n```{.r .cell-code #lst-compute-variance lst-cap=\"Create a function to compute the variance as used in the book\"}\nvar_fun(x2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 0.26924\n```\n\n\n:::\n:::\n\n\n### Comouting the Standard Deviation (sigma $\\sigma$)\n\nThe base R function for the standard deviation is `stats::sd()` But as\nin @eq-mad and @eq-variance we need to write our own function to get the\nsame values as in the book because of the difference divided by $n$\n(base R) and divided by the reciprocal value $\\frac{1}{n}$ (book).\n\n\n::: {.cell}\n\n```{.r .cell-code #lst-compute-sd lst-cap=\"Create a function to compute the standard deviation as used in the book\"}\nsd_fun <- function(x) {\n  sqrt(sum((x - mean(x))^2) * 1 / length(x))\n}\n\nsd_fun(x1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 0.04604346\n```\n\n\n:::\n\n```{.r .cell-code #lst-compute-sd lst-cap=\"Create a function to compute the standard deviation as used in the book\"}\nsd_fun(x2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 0.5188834\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}