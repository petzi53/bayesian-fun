{
  "hash": "8d2ab1cd85c6233a4ee71d16d83ae160",
  "result": {
    "markdown": "# Creating a Binomial Probability Distribution\n\n## Structure of a Binomial Distribution\n\nA binomial distribution is used to calculate the probability of a certain number of successful outcomes, given a number of trials and the probability of the successful outcome. The “bi” in the term binomial refers to the two possible outcomes that we’re concerned with: an event happening and an event not happening. (If there are more than two outcomes, the distribution is called multinomial.)\n\nExamples for a binomial distribution are:\n\n- Flipping two heads in three coin tosses\n- Buying 1 million lottery tickets and winning at least once\n- Rolling fewer than three 20s in 10 rolls of a 20-sided die\n\n\nAll binomial distributions involve three parameters:\n\n- `k` The number of outcomes we care about\n- `n` The total number of trials\n- `p` The probability of the event happening\n\nCalculating the probability of flipping two heads in three coin tosses:\n\n- $k = 2$, the number of events we care about, in this case flipping a heads\n- $n = 3$, the number times the coin is flipped\n- $p = 1/2$, the probability of flipping a heads in a coin toss\n\n***\n::: {#thm-binomial-distribution-shorthand-notation}\n#### Shorthand notation of a binomial distribution\n\n$$B(k; n, p)$$ {#eq-short-notation}\n\n:::\n***\n\nFor the example of two heads in three coin tosses, we would write $B(2; 3, 1/2)$. \n\n- `B` stands for *binomial* distribution\n- `k` is separated from the other parameters by a semicolon. This is because when we are talking about a distribution of values, we usually care about all values of $k$ for a fixed $n$ and $p$. \n- `B(k; n, p)` denotes each value in the distribution\n- `B(n, p)` denotes the whole distribution\n\n## Understanding and Abstracting Out the Details of Our Problem\n\nWe’ll continue with the example of calculating the probability of flipping two heads in three coin tosses. Since the number of possible outcomes is small, we can quickly figure out the results we care about with just pencil and paper.\n\n$$HHT, HTH, THH$$\nTo start generalizing, we’ll break this problem down into smaller pieces we can solve right now, and reduce those pieces into manageable equations. As we build up the equations, we’ll put them together to create a generalized function for the binomial distribution.\n\n- Each outcome we care about will have the *same* probability. \n- Each outcome is just a <a class='glossary' title='A mathematical technique that determines the number of possible arrangements in a set when the order matters. The study of permutations is an important topic in the fields of combinatorics.'>permutation</a>, or reordering, of the others\n\n$$\n\\begin{align*}\nP({heads, heads, tails}) = P({heads, tails, heads}) = P({tails, heads, heads}) = \\\\\nP(\\text{Desired Outcome})\n\\end{align*}\n$$\n\nThere are three outcomes, but only one of them can possibly happen and we don’t care which. And because it’s only possible for one outcome to occur, we know that these are mutually exclusive, denoted as:\n\n$$P(\\{heads, heads, tails\\},\\{heads, tails, heads\\},\\{tails, heads, heads\\}) = 0$$\nThis makes using the sum rule of probability easy.\n\n$$\n\\begin{align*}\nP(\\{heads, heads, tails\\} \\operatorname{OR} \\{heads, tails, heads\\} \\operatorname{OR} \\{tails, heads, heads\\}) = \\\\\nP(\\text{Desired Outcome}) + P(\\text{Desired Outcome}) + P(\\text{Desired Outcome}) = \\\\\n3 \\times P(Desired Outcome)\n\\end{align*}\n$$\nThe value \"3\" is specific to this problem and therefore not generalizable. We can fix this by simply replacing \"3\" with a variable called $N_{outcomes}$. \n\n***\n::: {#thm-pfm-placeholder}\n#### Solution with place holders\n\n$$B(k;n,p) = N_{outcomes} \\times P(\\text{Desired Outcome})$$ {#eq-pfm-placeholder}\n:::\n***\n\nNow we have to figure out two subproblems: \n\n1. How to count the number of outcomes we care about?\n2. How to determine the probability for a single outcome?\n\n## Counting Our Outcomes with the Binomial Coefficient\n\nFirst we need to figure out how many outcomes there are for a given k (the outcomes we care about) and n (the number of trials). For small numbers we can simply count. But it doesn’t take much for this to become too difficult to do by hand. The solution is <a class='glossary' title='Combinatorics is an area of mathematics primarily concerned with counting. (BS, Chap.2) One of the basic problems of combinatorics is to determine the number of possible configurations of a given type. (Britannica)'>combinatorics</a>.\n\n### Combinatorics: Advanced Counting with the Binomial Coefficient\n\nThere is a special operation in combinatorics, called the *binomial coefficient*, that represents counting the number of ways we can select `k` from `n` — that is, selecting the outcomes we care about from the total number of trials.\n\n***\n::: {#thm-binomial-coefficient}\n#### Notation for the binomial coefficient\n\n$$\\binom{n}{k}$$ {#eq-binomial-coefficient}\n:::\n***\n\n\nWe read this as \"n choose k\". In our example we would say “in three tosses choose two heads”:\n\n$$\\binom{3}{2}$$\n\n***\n::: {#thm-def-bin-coeff}\n#### Definition of the binomial coefficient operation\n\n$$\\binom{n}{k} = \\frac{n!}{k! \\times (n-k)!}$$ {#eq-def-bin-coeff}\n:::\n***\n\nThe `!` means *factorial*, which is the product of all the numbers up to and including the number before the `!` symbol, so $5! = (5 × 4 × 3 × 2 × 1)$.\n\nIn R we compute the binomial coefficient for the case of flipping two heads in three tosses with the following function call:\n\n***\n\n::: {.cell}\n\n```{.r .cell-code #lst-binomial-coeff lst-cap=\"**(Compute the binomial coefficient for flipping two heads in three tosses)**\"}\nchoose(3,2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 3\n```\n\n\n:::\n:::\n\n***\n\n\n\nWe can now replace $N_{Outcomes}$ in @eq-pfm-placeholder with the binomial coefficient:\n\n$$B(k;n,p) = \\binom{n}{k} \\times P(\\text{Desired Outcome})$$\n\n### Calculating the Probability of the Desired Outcome\n\nAll we have left to figure out is the $P(\\text{Desired Outcome})$, which is the probability of any of the possible events we care about. So far we’ve been using $P(\\text{Desired Outcome})$ as a variable to help organize our solution to this problem, but now we need to figure out exactly how to calculate this value. \n\nLet’s focus on a single case of our example of tow heads in three tosses: $HHT$. Using the product rule and negation from the previous chapter, we can describe this problem as:\n$$P(heads, heads, no heads) = P(heads, heads, 1-heads)$$\nNow we can use the product rule from @eq-product-rule:\n\n$$\n\\begin{align*}\nP(heads, heads, 1-heads) = \\\\\nP(heads) \\times P(heads) \\times (1-P(heads)) = \\\\\nP(heads)^2 \\times (1-P(heads))^1\n\\end{align*}\n$$\nYou can see that the exponents for $P(heads)^2$ and $1 – P(heads)^1$ are just the number of heads and the number of not heads in our scenario. These equate to `k`, the number of outcomes we care about, and `n – k`, the number of trials minus the outcomes we care about.  Puting all together:\n\n$$\n\\binom{n}{k} \\times P(heads)^{k} \\times (1- P(heads))^{n-k}\n$$\nGeneralizing for any probability, not just heads, we replace $P(heads)$ with just `p`. This gives us a *general solution* for\n\n- `k`, the number of outcomes we care about; \n- `n`, the number of trials; and \n- `p`, the probability of the individual outcome.\n\n\n***\n::: {#thm-pmf}\n#### Probability Mass Function -- PFM\n\n$$\n\\binom{n}{k} \\times p^{k} \\times (1- p)^{n-k}\n$$ {#eq-pfm}\n\n:::\n***\n\n@eq-pfm is the basis of the binomial distribution. It is called a <a class='glossary' title='A probability mass function (PMF) is a function that gives the probability that a discrete random variable is exactly equal to some value. Sometimes it is also known as probability function, frequency function or discrete probability density function. (Wikipedia)'>Probability Mass Function</a> (PMF). The *mass* part of the name comes from the fact that we can use it to calculate the amount of probability for any given `k` using a fixed `n` and `p`, so this is the mass of our probability.\n\nNow that we have this equation, we can solve any problem related to outcomes of a coin toss. For example, we could calculate the probability of flipping exactly 12 heads in 24 coin tosses:\n\n$$\nB(12,24,\\frac{1}{2}) = \\binom{24}{12} \\times (\\frac{1}{2})^{12} \\times (1-\\frac{1}{2})^{24-12} = 0.1611803\n$$\n\n***\n\n\n::: {.cell}\n\n```{.r .cell-code #lst-calc-example lst-cap=\"**(Calculate the probability of flipping exactly 12 heads in 24 coin tosses)**\"}\nchoose(24,12) * (1 / 2)^(12) * (1 - 1/2)^(24 - 12)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n#> [1] 0.1611803\n```\n\n\n:::\n:::\n\n***\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}